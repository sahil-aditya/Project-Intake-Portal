<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Intake Portal</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-[#0f172a] text-slate-200 p-6">

    <div class="max-w-xl mx-auto bg-[#1e293b] p-8 rounded-3xl shadow-2xl border border-slate-700">
        <h1 class="text-3xl font-bold text-blue-400 mb-2">Project Submission</h1>
        <p class="text-slate-400 mb-6 text-sm">Please provide your project links and contact details.</p>
        
        <form id="projectForm" class="space-y-4">
            <input type="text" id="userName" placeholder="Full Name" required class="w-full p-3 rounded-xl bg-[#334155] border-none outline-none focus:ring-2 focus:ring-blue-500">
            <input type="email" id="userEmail" placeholder="Gmail Address" required class="w-full p-3 rounded-xl bg-[#334155] border-none outline-none focus:ring-2 focus:ring-blue-500">
            <input type="tel" id="userContact" placeholder="Contact Number" required class="w-full p-3 rounded-xl bg-[#334155] border-none outline-none focus:ring-2 focus:ring-blue-500">
            
            <textarea id="userDescription" placeholder="Project Description (Tell us what you need)" rows="3" required class="w-full p-3 rounded-xl bg-[#334155] border-none outline-none focus:ring-2 focus:ring-blue-500"></textarea>
            
            <div class="p-4 bg-blue-900/20 border border-blue-500/30 rounded-xl">
                <label class="block text-sm font-medium text-blue-300 mb-2">Project File Link (Google Drive, Dropbox, etc.)</label>
                <input type="url" id="projectLink" placeholder="https://drive.google.com/..." required class="w-full p-3 rounded-lg bg-[#334155] border-none outline-none focus:ring-2 focus:ring-blue-500">
                <p class="text-[10px] text-slate-500 mt-2 italic">*Upload files to your Drive and paste the shared link here.</p>
            </div>

            <button type="submit" id="submitBtn" class="w-full bg-blue-600 hover:bg-blue-500 py-3 rounded-xl font-bold text-white transition transform active:scale-95 shadow-lg">
                Submit Project
            </button>
        </form>
        <p id="statusMsg" class="mt-4 text-center hidden p-3 rounded-lg"></p>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyATjqtawOnutBR4fjG5tNgvTlu9mMPQRDE",
            authDomain: "project-intake-portal.firebaseapp.com",
            projectId: "project-intake-portal",
            storageBucket: "project-intake-portal.firebasestorage.app",
            messagingSenderId: "769005064850",
            appId: "1:769005064850:web:a6e83a3d5572d4489c8c4b",
            measurementId: "G-8BQEZKCFXN"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        document.getElementById('projectForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const btn = document.getElementById('submitBtn');
            const status = document.getElementById('statusMsg');
            
            btn.disabled = true;
            status.classList.remove('hidden');
            status.innerText = "⏳ Saving to Database...";
            status.className = "mt-4 text-center text-blue-300 bg-blue-900/30 p-3 rounded-lg";

            try {
                // Save data to Firestore Database
                await addDoc(collection(db, "submissions"), {
                    name: document.getElementById('userName').value,
                    email: document.getElementById('userEmail').value,
                    phone: document.getElementById('userContact').value,
                    desc: document.getElementById('userDescription').value,
                    fileLink: document.getElementById('projectLink').value,
                    timestamp: new Date().toLocaleString()
                });

                status.innerText = "✅ Success! Project details saved.";
                status.className = "mt-4 text-center text-green-400 bg-green-900/30 p-3 rounded-lg";
                document.getElementById('projectForm').reset();
            } catch (err) {
                status.innerText = "❌ Error: " + err.message;
                status.className = "mt-4 text-center text-red-400 bg-red-900/30 p-3 rounded-lg";
            }
            btn.disabled = false;
        });
    </script>
</body>
</html>
